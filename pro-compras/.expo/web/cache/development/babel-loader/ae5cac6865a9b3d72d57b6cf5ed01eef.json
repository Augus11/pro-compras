{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anten\\\\OneDrive\\\\Escritorio\\\\Nueva carpeta\\\\pro-compras\\\\src\\\\components\\\\Favorites\\\\Product.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Button, IconButton } from \"react-native-paper\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { API_URL } from \"../../utils/constants\";\nimport { deleteFavoriteApi } from \"../../api/favorite\";\nimport colors from \"../../styles/colors\";\nexport default function Product(props) {\n  var item = props.item,\n      auth = props.auth,\n      setReloadFavorite = props.setReloadFavorite;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var navigation = useNavigation();\n\n  var calcPrice = function calcPrice(price, discount) {\n    if (!discount) return price;\n    var discountAmount = price * discount / 100;\n    return (price - discountAmount).toFixed(2);\n  };\n\n  var goToProduct = function goToProduct(id) {\n    navigation.navigate(\"product\", {\n      idProduct: id\n    });\n  };\n\n  var deleteFavorite = function deleteFavorite(id) {\n    return _regeneratorRuntime.async(function deleteFavorite$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(deleteFavoriteApi(auth, id));\n\n          case 3:\n            setReloadFavorite(true);\n            setLoading(false);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    key: item._id,\n    style: styles.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.containerImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: \"\" + API_URL + item.product.main_image.url\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.name,\n    numberOfLines: 3,\n    ellipsizeMode: \"tail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, item.product.title), React.createElement(View, {\n    style: styles.prices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.currentPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, calcPrice(item.product.price, item.product.discount), \" \\u20AC\"), item.product.discount && React.createElement(Text, {\n    style: styles.oldPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, item.product.price, \" \\u20AC\"))), React.createElement(View, {\n    style: styles.btnsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    style: styles.btnProduct,\n    color: colors.primary,\n    mode: \"contained\",\n    onPress: function onPress() {\n      return goToProduct(item.product._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Ver producto\"), React.createElement(IconButton, {\n    icon: \"close\",\n    color: \"#fff\",\n    size: 16,\n    style: styles.btnDelete,\n    onPress: function onPress() {\n      return deleteFavorite(item.product._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }))), loading && React.createElement(View, {\n    style: styles.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  product: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: 15,\n    borderRadius: 5,\n    borderWidth: 0.5,\n    borderColor: \"#dadde1\"\n  },\n  containerImage: {\n    width: \"40%\",\n    height: 200,\n    backgroundColor: \"#ebebeb\",\n    padding: 5\n  },\n  image: {\n    height: \"100%\",\n    resizeMode: \"contain\"\n  },\n  info: {\n    padding: 10,\n    width: \"60%\",\n    justifyContent: \"space-between\"\n  },\n  name: {\n    fontSize: 16\n  },\n  prices: {\n    flexDirection: \"row\",\n    marginTop: 5,\n    alignItems: \"flex-end\"\n  },\n  currentPrice: {\n    fontSize: 22\n  },\n  oldPrice: {\n    marginLeft: 7,\n    fontSize: 14,\n    color: \"#747474\",\n    textDecorationLine: \"line-through\"\n  },\n  btnsContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    position: \"relative\",\n    width: \"86%\"\n  },\n  btnDelete: {\n    backgroundColor: colors.primary,\n    borderRadius: 5,\n    margin: 5,\n    width: 30,\n    height: 32\n  },\n  loading: {\n    backgroundColor: \"#000\",\n    opacity: 0.4,\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 5,\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/anten/OneDrive/Escritorio/Nueva carpeta/pro-compras/src/components/Favorites/Product.js"],"names":["React","useState","Button","IconButton","useNavigation","API_URL","deleteFavoriteApi","colors","Product","props","item","auth","setReloadFavorite","loading","setLoading","navigation","calcPrice","price","discount","discountAmount","toFixed","goToProduct","id","navigate","idProduct","deleteFavorite","_id","styles","product","containerImage","image","uri","main_image","url","info","name","title","prices","currentPrice","oldPrice","btnsContainer","btnProduct","primary","btnDelete","StyleSheet","create","flexDirection","justifyContent","marginTop","borderRadius","borderWidth","borderColor","width","height","backgroundColor","padding","resizeMode","fontSize","alignItems","marginLeft","color","textDecorationLine","position","margin","opacity"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { StyleSheet, View, Text, Image, ActivityIndicator } from \"react-native\";\nimport { Button, IconButton } from \"react-native-paper\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { API_URL } from \"../../utils/constants\";\nimport { deleteFavoriteApi } from \"../../api/favorite\";\nimport colors from \"../../styles/colors\";\n\nexport default function Product(props) {\n  const { item, auth, setReloadFavorite } = props;\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n\n  const calcPrice = (price, discount) => {\n    if (!discount) return price;\n\n    const discountAmount = (price * discount) / 100;\n    return (price - discountAmount).toFixed(2);\n  };\n\n  const goToProduct = (id) => {\n    navigation.navigate(\"product\", { idProduct: id });\n  };\n\n  const deleteFavorite = async (id) => {\n    setLoading(true);\n    await deleteFavoriteApi(auth, id);\n    setReloadFavorite(true);\n    setLoading(false);\n  };\n\n  return (\n    <View key={item._id} style={styles.product}>\n      <View style={styles.containerImage}>\n        <Image\n          style={styles.image}\n          source={{\n            uri: `${API_URL}${item.product.main_image.url}`,\n          }}\n        />\n      </View>\n      <View style={styles.info}>\n        <View>\n          <Text style={styles.name} numberOfLines={3} ellipsizeMode=\"tail\">\n            {item.product.title}\n          </Text>\n          <View style={styles.prices}>\n            <Text style={styles.currentPrice}>\n              {calcPrice(item.product.price, item.product.discount)} €\n            </Text>\n            {item.product.discount && (\n              <Text style={styles.oldPrice}>{item.product.price} €</Text>\n            )}\n          </View>\n        </View>\n        <View style={styles.btnsContainer}>\n          <Button\n            style={styles.btnProduct}\n            color={colors.primary}\n            mode=\"contained\"\n            onPress={() => goToProduct(item.product._id)}\n          >\n            Ver producto\n          </Button>\n          <IconButton\n            icon=\"close\"\n            color=\"#fff\"\n            size={16}\n            style={styles.btnDelete}\n            onPress={() => deleteFavorite(item.product._id)}\n          />\n        </View>\n      </View>\n\n      {loading && (\n        <View style={styles.loading}>\n          <ActivityIndicator size=\"large\" color=\"#fff\" />\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  product: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: 15,\n    borderRadius: 5,\n    borderWidth: 0.5,\n    borderColor: \"#dadde1\",\n  },\n  containerImage: {\n    width: \"40%\",\n    height: 200,\n    backgroundColor: \"#ebebeb\",\n    padding: 5,\n  },\n  image: {\n    height: \"100%\",\n    resizeMode: \"contain\",\n  },\n  info: {\n    padding: 10,\n    width: \"60%\",\n    justifyContent: \"space-between\",\n  },\n  name: {\n    fontSize: 16,\n  },\n  prices: {\n    flexDirection: \"row\",\n    marginTop: 5,\n    alignItems: \"flex-end\",\n  },\n  currentPrice: {\n    fontSize: 22,\n  },\n  oldPrice: {\n    marginLeft: 7,\n    fontSize: 14,\n    color: \"#747474\",\n    textDecorationLine: \"line-through\",\n  },\n  btnsContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    position: \"relative\",\n    width: \"86%\",\n  },\n  btnDelete: {\n    backgroundColor: colors.primary,\n    borderRadius: 5,\n    margin: 5,\n    width: 30,\n    height: 32,\n  },\n  loading: {\n    backgroundColor: \"#000\",\n    opacity: 0.4,\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 5,\n    justifyContent: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}