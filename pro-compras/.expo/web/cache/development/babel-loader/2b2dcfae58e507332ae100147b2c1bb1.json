{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anten\\\\OneDrive\\\\Escritorio\\\\Nueva carpeta\\\\pro-compras\\\\src\\\\components\\\\Cart\\\\ProductList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { map } from \"lodash\";\nimport ScreenLoading from \"../ScreenLoading\";\nimport Product from \"./Product\";\nimport { getProductApi } from \"../../api/product\";\nexport default function ProductList(props) {\n  var _this = this;\n\n  var cart = props.cart,\n      products = props.products,\n      setProducts = props.setProducts,\n      setReloadCart = props.setReloadCart,\n      setTotalPayment = props.setTotalPayment;\n  useEffect(function () {\n    (function _callee() {\n      var productTemp, totalPaymentTemp, _iterator, _step, product, response;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              productTemp = [];\n              totalPaymentTemp = 0;\n              _iterator = _createForOfIteratorHelperLoose(cart);\n\n            case 3:\n              if ((_step = _iterator()).done) {\n                _context.next = 13;\n                break;\n              }\n\n              product = _step.value;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(getProductApi(product.idProduct));\n\n            case 7:\n              response = _context.sent;\n              response.quantity = product.quantity;\n              productTemp.push(response);\n              totalPaymentTemp += response.price * product.quantity;\n\n            case 11:\n              _context.next = 3;\n              break;\n\n            case 13:\n              setProducts(productTemp);\n              setTotalPayment(totalPaymentTemp.toFixed(2));\n              setReloadCart(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, [cart]);\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Productos:\"), !products ? React.createElement(ScreenLoading, {\n    text: \"Cargando carrito\",\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }) : map(products, function (product) {\n    return React.createElement(Product, {\n      key: product._id,\n      product: product,\n      setReloadCart: setReloadCart,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    });\n  }));\n}\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"sources":["C:/Users/anten/OneDrive/Escritorio/Nueva carpeta/pro-compras/src/components/Cart/ProductList.js"],"names":["React","useEffect","map","ScreenLoading","Product","getProductApi","ProductList","props","cart","products","setProducts","setReloadCart","setTotalPayment","productTemp","totalPaymentTemp","product","idProduct","response","quantity","push","price","toFixed","styles","title","_id","StyleSheet","create","fontSize","fontWeight"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;AAEA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,aAAP;AACA,OAAOC,OAAP;AACA,SAASC,aAAT;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AACzC,MAAQC,IAAR,GAAwED,KAAxE,CAAQC,IAAR;AAAA,MAAcC,QAAd,GAAwEF,KAAxE,CAAcE,QAAd;AAAA,MAAwBC,WAAxB,GAAwEH,KAAxE,CAAwBG,WAAxB;AAAA,MAAqCC,aAArC,GAAwEJ,KAAxE,CAAqCI,aAArC;AAAA,MAAoDC,eAApD,GAAwEL,KAAxE,CAAoDK,eAApD;AAEAX,EAAAA,SAAS,CAAC,YAAM;AACd,KAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACOY,cAAAA,WADP,GACqB,EADrB;AAEKC,cAAAA,gBAFL,GAEwB,CAFxB;AAAA,0DAG6BN,IAH7B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGkBO,cAAAA,OAHlB;AAAA;AAAA,+CAI0BV,aAAa,CAACU,OAAO,CAACC,SAAT,CAJvC;;AAAA;AAISC,cAAAA,QAJT;AAKGA,cAAAA,QAAQ,CAACC,QAAT,GAAoBH,OAAO,CAACG,QAA5B;AACAL,cAAAA,WAAW,CAACM,IAAZ,CAAiBF,QAAjB;AAEAH,cAAAA,gBAAgB,IAAIG,QAAQ,CAACG,KAAT,GAAiBL,OAAO,CAACG,QAA7C;;AARH;AAAA;AAAA;;AAAA;AAUCR,cAAAA,WAAW,CAACG,WAAD,CAAX;AACAD,cAAAA,eAAe,CAACE,gBAAgB,CAACO,OAAjB,CAAyB,CAAzB,CAAD,CAAf;AACAV,cAAAA,aAAa,CAAC,KAAD,CAAb;;AAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAcD,GAfQ,EAeN,CAACH,IAAD,CAfM,CAAT;AAiBA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEc,MAAM,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEG,CAACd,QAAD,GACC,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAC,kBAApB;AAAuC,IAAA,IAAI,EAAC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGCP,GAAG,CAACO,QAAD,EAAW,UAACM,OAAD;AAAA,WACZ,oBAAC,OAAD;AACE,MAAA,GAAG,EAAEA,OAAO,CAACS,GADf;AAEE,MAAA,OAAO,EAAET,OAFX;AAGE,MAAA,aAAa,EAAEJ,aAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADY;AAAA,GAAX,CALP,CADF;AAgBD;AAED,IAAMW,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAC/BH,EAAAA,KAAK,EAAE;AACLI,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,UAAU,EAAE;AAFP;AADwB,CAAlB,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport { map } from \"lodash\";\nimport ScreenLoading from \"../ScreenLoading\";\nimport Product from \"./Product\";\nimport { getProductApi } from \"../../api/product\";\n\nexport default function ProductList(props) {\n  const { cart, products, setProducts, setReloadCart, setTotalPayment } = props;\n\n  useEffect(() => {\n    (async () => {\n      const productTemp = [];\n      let totalPaymentTemp = 0;\n      for await (const product of cart) {\n        const response = await getProductApi(product.idProduct);\n        response.quantity = product.quantity;\n        productTemp.push(response);\n\n        totalPaymentTemp += response.price * product.quantity;\n      }\n      setProducts(productTemp);\n      setTotalPayment(totalPaymentTemp.toFixed(2));\n      setReloadCart(false);\n    })();\n  }, [cart]);\n\n  return (\n    <View>\n      <Text style={styles.title}>Productos:</Text>\n      {!products ? (\n        <ScreenLoading text=\"Cargando carrito\" size=\"large\" />\n      ) : (\n        map(products, (product) => (\n          <Product\n            key={product._id}\n            product={product}\n            setReloadCart={setReloadCart}\n          />\n        ))\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}