{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anten\\\\OneDrive\\\\Escritorio\\\\Nueva carpeta\\\\pro-compras\\\\src\\\\components\\\\Auth\\\\UploadOrders.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { TextInput, Button, Text, ScrollView } from \"react-native-paper\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Toast from \"react-native-root-toast\";\nimport { orderApi } from \"../../api/order\";\nimport { getOrderApi } from \"../../api/order\";\nimport { formStyle } from \"../../styles\";\nimport { map } from \"lodash\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport OrderInfo from \"../AOrders/OrderInfo\";\nexport default function RegisterForm(props) {\n  var setShowLogin = props.setShowLogin;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      order = _useState4[0],\n      setOrder = _useState4[1];\n\n  console.log(auth);\n  var orders = props.orders;\n\n  var showLogin = function showLogin() {\n    return setShowLogin(function (prevState) {\n      return !prevState;\n    });\n  };\n\n  useFocusEffect(useCallback(function () {\n    (function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(getOrderApi(auth.token));\n\n            case 2:\n              response = _context.sent;\n              setOrder(response);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []));\n  var formik = useFormik({\n    initialValues: initialValues(),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: function onSubmit(formData) {\n      return _regeneratorRuntime.async(function onSubmit$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(orderApi(formData));\n\n            case 4:\n              console.log(formData);\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](1);\n              Toast.show(\"Error al registrar el usuario\", {\n                position: Toast.positions.CENTER\n              });\n              setLoading(false);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    }\n  });\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, React.createElement(OrderInfo, {\n    order: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction initialValues() {\n  return {\n    ShopName: \"\",\n    ShopAdress: \"\",\n    BuyerUsername: \"\",\n    BuyerAdress: \"\"\n  };\n}\n\nfunction validationSchema() {\n  return {\n    ShopName: Yup.string().required(true),\n    ShopAdress: Yup.string().required(true),\n    BuyerUsername: Yup.string().required(true),\n    BuyerAdress: Yup.string().required(true)\n  };\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 30\n  },\n  view: {\n    borderWidth: 0.9,\n    borderRadius: 5,\n    borderColor: \"#ddd\",\n    paddingHorizontal: 15,\n    paddingVertical: 15,\n    marginBottom: 15,\n    backgroundColor: \"#80BDAE\"\n  }\n});","map":{"version":3,"sources":["C:/Users/anten/OneDrive/Escritorio/Nueva carpeta/pro-compras/src/components/Auth/UploadOrders.js"],"names":["React","useState","useCallback","TextInput","Button","Text","ScrollView","useFormik","Yup","Toast","orderApi","getOrderApi","formStyle","map","useAuth","useFocusEffect","OrderInfo","RegisterForm","props","setShowLogin","loading","setLoading","auth","order","setOrder","console","log","orders","showLogin","prevState","token","response","formik","initialValues","validationSchema","object","onSubmit","formData","show","position","positions","CENTER","ShopName","ShopAdress","BuyerUsername","BuyerAdress","string","required","styles","StyleSheet","create","container","marginTop","view","borderWidth","borderRadius","borderColor","paddingHorizontal","paddingVertical","marginBottom","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { View, StyleSheet } from \"react-native\";\r\nimport { TextInput, Button, Text, ScrollView } from \"react-native-paper\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Toast from \"react-native-root-toast\";\r\nimport { orderApi } from \"../../api/order\";\r\nimport { getOrderApi } from \"../../api/order\";\r\nimport { formStyle } from \"../../styles\";\r\nimport { map } from \"lodash\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport OrderInfo from \"../AOrders/OrderInfo\";\r\n\r\nexport default function RegisterForm(props) {\r\n  const { setShowLogin } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const { auth } = useAuth();\r\n\r\n  const [order, setOrder] = useState(null);\r\n\r\n  console.log(auth);\r\n\r\n  const { orders } = props;\r\n\r\n\r\n  const showLogin = () => setShowLogin((prevState) => !prevState);\r\n\r\n  \r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      (async () => {\r\n        const response = await getOrderApi(auth.token);\r\n        //console.log(response);\r\n        setOrder(response);\r\n      })();\r\n    }, [])\r\n  );\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(),\r\n    validationSchema: Yup.object(validationSchema()),\r\n    onSubmit: async (formData) => {\r\n      setLoading(true);\r\n      try {\r\n        await orderApi(formData);\r\n        console.log(formData);\r\n      } catch (error) {\r\n        Toast.show(\"Error al registrar el usuario\", {\r\n          position: Toast.positions.CENTER,\r\n        });\r\n        setLoading(false);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <View>\r\n\r\n      <OrderInfo order={order}></OrderInfo>\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nfunction initialValues() {\r\n  return {\r\n    ShopName: \"\",\r\n    ShopAdress: \"\",\r\n    BuyerUsername: \"\",\r\n    BuyerAdress: \"\",\r\n\r\n  };\r\n}\r\n\r\nfunction validationSchema() {\r\n  return {\r\n    ShopName: Yup.string().required(true),\r\n    ShopAdress: Yup.string().required(true),\r\n    BuyerUsername: Yup.string().required(true),\r\n    BuyerAdress: Yup.string().required(true),\r\n  };\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: 30,\r\n  },\r\n  view: {\r\n    borderWidth: 0.9,\r\n    borderRadius: 5,\r\n    borderColor: \"#ddd\",\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 15,\r\n    marginBottom: 15,\r\n    backgroundColor: \"#80BDAE\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}