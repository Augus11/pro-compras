{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anten\\\\OneDrive\\\\Escritorio\\\\Nueva carpeta\\\\pro-compras\\\\src\\\\components\\\\Product\\\\Favorite.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Button } from \"react-native-paper\";\nimport { size } from \"lodash\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { addFavoriteApi, isFavoriteApi, deleteFavoriteApi } from \"../../api/favorite\";\nexport default function Actions(props) {\n  var product = props.product;\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFavorite = _useState2[0],\n      setIsFavorite = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      reloadFavorite = _useState6[0],\n      setReloadFavorite = _useState6[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(isFavoriteApi(auth, product._id));\n\n            case 2:\n              response = _context.sent;\n              if (size(response) === 0) setIsFavorite(false);else setIsFavorite(true);\n              setReloadFavorite(false);\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, [product, reloadFavorite]);\n\n  var addFavorite = function addFavorite() {\n    return _regeneratorRuntime.async(function addFavorite$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (loading) {\n              _context2.next = 5;\n              break;\n            }\n\n            setLoading(true);\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(addFavoriteApi(auth, product._id));\n\n          case 4:\n            setReloadFavorite(true);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var deleteFavorite = function deleteFavorite() {\n    return _regeneratorRuntime.async(function deleteFavorite$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (loading) {\n              _context3.next = 5;\n              break;\n            }\n\n            setLoading(true);\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(deleteFavoriteApi(auth, product._id));\n\n          case 4:\n            setReloadFavorite(true);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  if (isFavorite === undefined) return null;\n  return React.createElement(TouchableOpacity, {\n    contentStyle: isFavorite ? styles.btnDeleteFavoritesContent : styles.btnAddFavoritesContent,\n    style: styles.addToCartButton,\n    onPress: isFavorite ? deleteFavorite : addFavorite,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: [styles.buttonText, {\n      color: '#111'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, isFavorite ? \"Eliminar de favoritos\" : \"AÃ±adir a favoritos\"));\n}\nvar styles = StyleSheet.create({\n  btnLabel: {\n    fontSize: 14\n  },\n  btn: {\n    marginTop: 8\n  },\n  btnAddFavoritesContent: {\n    backgroundColor: \"#057b00\",\n    paddingVertical: 5,\n    height: 45\n  },\n  btnDeleteFavoritesContent: {\n    backgroundColor: \"#c40000\",\n    paddingVertical: 5\n  },\n  buyNowButton: {\n    flex: 1,\n    backgroundColor: '#111',\n    paddingVertical: 10,\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 6\n  },\n  addToCartButton: {\n    flex: 1,\n    paddingVertical: 10,\n    backgroundColor: '#fff',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 6,\n    borderWidth: 1,\n    borderColor: '#111'\n  },\n  buttonText: {\n    fontSize: 13,\n    color: '#fff',\n    fontFamily: 'MontserratBold'\n  }\n});","map":{"version":3,"sources":["C:/Users/anten/OneDrive/Escritorio/Nueva carpeta/pro-compras/src/components/Product/Favorite.js"],"names":["React","useState","useEffect","Button","size","useAuth","addFavoriteApi","isFavoriteApi","deleteFavoriteApi","Actions","props","product","auth","undefined","isFavorite","setIsFavorite","loading","setLoading","reloadFavorite","setReloadFavorite","_id","response","addFavorite","deleteFavorite","styles","btnDeleteFavoritesContent","btnAddFavoritesContent","addToCartButton","buttonText","color","StyleSheet","create","btnLabel","fontSize","btn","marginTop","backgroundColor","paddingVertical","height","buyNowButton","flex","borderRadius","alignItems","justifyContent","marginRight","marginLeft","borderWidth","borderColor","fontFamily"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StyleSheet, TouchableOpacity, Text } from \"react-native\";\nimport { Button } from \"react-native-paper\";\nimport { size } from \"lodash\";\nimport useAuth from \"../../hooks/useAuth\";\nimport {\n  addFavoriteApi,\n  isFavoriteApi,\n  deleteFavoriteApi,\n} from \"../../api/favorite\";\n\nexport default function Actions(props) {\n  const { product } = props;\n  const { auth } = useAuth();\n  const [isFavorite, setIsFavorite] = useState(undefined);\n  const [loading, setLoading] = useState(false);\n  const [reloadFavorite, setReloadFavorite] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const response = await isFavoriteApi(auth, product._id);\n      if (size(response) === 0) setIsFavorite(false);\n      else setIsFavorite(true);\n\n      setReloadFavorite(false);\n      setLoading(false);\n    })();\n  }, [product, reloadFavorite]);\n\n  const addFavorite = async () => {\n    if (!loading) {\n      setLoading(true);\n      await addFavoriteApi(auth, product._id);\n      setReloadFavorite(true);\n    }\n  };\n\n  const deleteFavorite = async () => {\n    if (!loading) {\n      setLoading(true);\n      await deleteFavoriteApi(auth, product._id);\n      setReloadFavorite(true);\n    }\n  };\n\n  if (isFavorite === undefined) return null;\n\n  return (\n    <TouchableOpacity\n      contentStyle={\n        isFavorite\n          ? styles.btnDeleteFavoritesContent\n          : styles.btnAddFavoritesContent\n      }\n      style={styles.addToCartButton}\n      onPress={isFavorite ? deleteFavorite : addFavorite}\n      loading={loading}\n>\n      <Text style={[styles.buttonText, { color: '#111' }]}>{isFavorite ? \"Eliminar de favoritos\" : \"AÃ±adir a favoritos\"}</Text>\n      \n    </TouchableOpacity>\n    \n\n  );\n}\n\nconst styles = StyleSheet.create({\n  btnLabel: {\n    fontSize: 14,\n  },\n  btn: {\n    marginTop: 8,\n  },\n  btnAddFavoritesContent: {\n    backgroundColor: \"#057b00\",\n    paddingVertical: 5,\n    height: 45\n  },\n  btnDeleteFavoritesContent: {\n    backgroundColor: \"#c40000\",\n    paddingVertical: 5,\n  },\n\n  buyNowButton: {\n    flex: 1,\n    backgroundColor: '#111',\n    paddingVertical: 10,\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 6,\n  },\n  addToCartButton: {\n    flex: 1,\n    paddingVertical: 10,\n    backgroundColor: '#fff',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 6,\n    borderWidth: 1,\n    borderColor: '#111',\n  },\n  buttonText: {\n    fontSize: 13,\n    color: '#fff',\n    fontFamily: 'MontserratBold',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}